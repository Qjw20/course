{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      fits: ['fill'],\n      url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\n      plate: \"567\",\n      ifshow: false,\n      fileList: []\n    };\n  },\n  methods: {\n    upload(file, fileList) {\n      console.log(file);\n    },\n    formatUrlFn() {\n      // 获取文件名及后缀\n      let index = this.backUrl.lastIndexOf(\".\");\n      let extension = this.backUrl.substring(index + 1, this.backUrl.length); //index是点的位置。点的位置加1再到结尾\n      let fileName = this.backUrl.substring(0, index);\n      // fileName.split(\"/\")[fileName.split(\"/\").length-1]\n      console.log(fileName.split(\"/\")[fileName.split(\"/\").length - 1], '--fileName--');\n      console.log(extension, '--extension--');\n      // 回显多张图片地址\n      for (let i = 0; i < this.imgUrl.length; i++) {\n        let bgUrl = {};\n        bgUrl.url = this.imgUrl[i];\n        this.fileList.push(bgUrl);\n      }\n      console.log('this.fileList', this.fileList);\n\n      // 把检测结果渲染到结果展示区域\n      axios.get(\"http://localhost:6006/file_rec\").then(function (response) {\n        console.log(response);\n        console.log(response.data); //响应结果\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    detectRecognize() {\n      // axios.get(\"http://localhost:6006/detect_recognize\").then(function (response) {\n      //       console.log(response);\n      //       console.log(response.data);//响应结果\n      //       // 把检测结果渲染到结果展示区域\n\n      //   }).catch(function (error) {\n      //       console.log(error);\n      //   })\n      this.ifshow = true;\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview(file) {\n      console.log(file);\n    }\n  },\n  mounted() {\n    this.imgUrl = this.imgUrl.split(\",\");\n    this.formatUrlFn();\n  }\n};","map":{"version":3,"names":["data","fits","url","plate","ifshow","fileList","methods","upload","file","console","log","formatUrlFn","index","backUrl","lastIndexOf","extension","substring","length","fileName","split","i","imgUrl","bgUrl","push","axios","get","then","response","catch","error","detectRecognize","handleRemove","handlePreview","mounted"],"sources":["src/App.vue"],"sourcesContent":["<script src=\"https://cdn.staticfile.org/axios/0.18.0/axios.min.js\"></script>\n\n<template>\n  <el-container>\n    <el-header>车牌检测识别系统</el-header>\n    <el-main>\n      <el-row>\n        <el-col :span=\"12\">\n          <div class=\"grid-content bg-purple\">\n            <el-upload\n              class=\"upload-demo\"\n              action=\"http://localhost:6006/file_rec\"\n              :on-preview=\"handlePreview\"\n              :on-remove=\"handleRemove\"\n              :file-list=\"fileList\"\n              list-type=\"picture\">\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n              <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n            </el-upload>\n            <el-button size=\"small\" type=\"primary\" @click=\"detectRecognize()\">开始检测</el-button>\n          </div>\n        </el-col>\n        <el-col :span=\"12\">\n          <div class=\"grid-content bg-purple-light\">\n            <div class=\"demo-fit\" v-show=\"ifshow\">\n              <div class=\"block\" v-for=\"fit in fits\" :key=\"fit\">\n                  <el-avatar shape=\"square\" :size=\"300\" :fit=\"fit\" :src=\"url\"></el-avatar>\n              </div>\n              <el-row>\n                <el-result icon=\"success\" title=\"车牌号：\" :subTitle=\"plate\">\n                  <template slot=\"extra\">\n                    <el-button type=\"primary\" size=\"medium\">下载检测结果</el-button>\n                  </template>\n                </el-result>\n              </el-row>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n\n\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nexport default {\n    data() {\n      return {\n        fits: ['fill'],\n        url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\n        plate: \"567\",\n        ifshow: false,\n        fileList: []\n      }\n    },\n\t\tmethods:{\n      upload(file, fileList) {\n        console.log(file);\n      },\n      formatUrlFn() {\n        // 获取文件名及后缀\n        let index= this.backUrl.lastIndexOf(\".\");\n        let extension=this.backUrl.substring(index+1,this.backUrl.length);//index是点的位置。点的位置加1再到结尾\n        let fileName= this.backUrl.substring(0,index);\n        // fileName.split(\"/\")[fileName.split(\"/\").length-1]\n        console.log( fileName.split(\"/\")[fileName.split(\"/\").length-1],'--fileName--')\n        console.log(extension,'--extension--')\n        // 回显多张图片地址\n        for(let i=0;i<this.imgUrl.length;i++){\n          let bgUrl = {}\n          bgUrl.url = this.imgUrl[i]\n          this.fileList.push(bgUrl)\n        }\n        console.log('this.fileList', this.fileList)\n\n        // 把检测结果渲染到结果展示区域\n        axios.get(\"http://localhost:6006/file_rec\").then(function (response) {\n              console.log(response);\n              console.log(response.data);//响应结果\n              \n\n          }).catch(function (error) {\n              console.log(error);\n          })\n\n      },\n\t\t\tdetectRecognize() {\n        // axios.get(\"http://localhost:6006/detect_recognize\").then(function (response) {\n        //       console.log(response);\n        //       console.log(response.data);//响应结果\n        //       // 把检测结果渲染到结果展示区域\n\n        //   }).catch(function (error) {\n        //       console.log(error);\n        //   })\n        this.ifshow = true\n      },\n      handleRemove(file, fileList) {\n        console.log(file, fileList);\n      },\n      handlePreview(file) {\n        console.log(file);\n      }\n\t\t},\n    mounted() {\n      this.imgUrl = this.imgUrl.split(\",\")\n      this.formatUrlFn()\n    },\n  }\n\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n  .el-header, .el-footer {\n    background-color: #B3C0D1;\n    color: #333;\n    text-align: center;\n    line-height: 60px;\n  }\n  \n  .el-aside {\n    background-color: #D3DCE6;\n    color: #333;\n    text-align: center;\n    line-height: 200px;\n  }\n  \n  .el-main {\n    background-color: #E9EEF3;\n    color: #333;\n    text-align: center;\n    line-height: 160px;\n  }\n  \n  body > .el-container {\n    margin-bottom: 40px;\n  }\n  \n  .el-container:nth-child(5) .el-aside,\n  .el-container:nth-child(6) .el-aside {\n    line-height: 260px;\n  }\n  \n  .el-container:nth-child(7) .el-aside {\n    line-height: 320px;\n  }\n  .el-row {\n    margin-bottom: 20px;\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n  .el-col {\n    border-radius: 4px;\n  }\n  .bg-purple-dark {\n    background: #99a9bf;\n  }\n  .bg-purple {\n    background: #d3dce6;\n  }\n  .bg-purple-light {\n    background: #e5e9f2;\n  }\n  .grid-content {\n    border-radius: 4px;\n    min-height: 36px;\n  }\n  .row-bg {\n    padding: 10px 0;\n    background-color: #f9fafc;\n  }\n</style>\n"],"mappings":";AA8CA;EACAA,KAAA;IACA;MACAC,IAAA;MACAC,GAAA;MACAC,KAAA;MACAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAAC,IAAA,EAAAH,QAAA;MACAI,OAAA,CAAAC,GAAA,CAAAF,IAAA;IACA;IACAG,YAAA;MACA;MACA,IAAAC,KAAA,QAAAC,OAAA,CAAAC,WAAA;MACA,IAAAC,SAAA,QAAAF,OAAA,CAAAG,SAAA,CAAAJ,KAAA,WAAAC,OAAA,CAAAI,MAAA;MACA,IAAAC,QAAA,QAAAL,OAAA,CAAAG,SAAA,IAAAJ,KAAA;MACA;MACAH,OAAA,CAAAC,GAAA,CAAAQ,QAAA,CAAAC,KAAA,MAAAD,QAAA,CAAAC,KAAA,MAAAF,MAAA;MACAR,OAAA,CAAAC,GAAA,CAAAK,SAAA;MACA;MACA,SAAAK,CAAA,MAAAA,CAAA,QAAAC,MAAA,CAAAJ,MAAA,EAAAG,CAAA;QACA,IAAAE,KAAA;QACAA,KAAA,CAAApB,GAAA,QAAAmB,MAAA,CAAAD,CAAA;QACA,KAAAf,QAAA,CAAAkB,IAAA,CAAAD,KAAA;MACA;MACAb,OAAA,CAAAC,GAAA,uBAAAL,QAAA;;MAEA;MACAmB,KAAA,CAAAC,GAAA,mCAAAC,IAAA,WAAAC,QAAA;QACAlB,OAAA,CAAAC,GAAA,CAAAiB,QAAA;QACAlB,OAAA,CAAAC,GAAA,CAAAiB,QAAA,CAAA3B,IAAA;MAGA,GAAA4B,KAAA,WAAAC,KAAA;QACApB,OAAA,CAAAC,GAAA,CAAAmB,KAAA;MACA;IAEA;IACAC,gBAAA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA,KAAA1B,MAAA;IACA;IACA2B,aAAAvB,IAAA,EAAAH,QAAA;MACAI,OAAA,CAAAC,GAAA,CAAAF,IAAA,EAAAH,QAAA;IACA;IACA2B,cAAAxB,IAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,IAAA;IACA;EACA;EACAyB,QAAA;IACA,KAAAZ,MAAA,QAAAA,MAAA,CAAAF,KAAA;IACA,KAAAR,WAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}